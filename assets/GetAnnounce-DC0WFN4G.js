import{_ as o,m as c,c as s,a as r,d as i,r as m,o as p}from"./index-Cm55Gr8Q.js";const u={name:"AnnouncementService",props:{pageKey:{type:String,default:""}},data(){return{announcement:""}},async created(){await this.fetchAnnouncement()},methods:{async fetchAnnouncement(){try{const e=await c.get("/api/merchant/getSiteAnnounceV1");if(e.data.code===200){const n=e.data.data||{};this.pageKey&&n[this.pageKey]?this.announcement=n[this.pageKey]:this.announcement=""}else console.error("公告获取失败:",e.data.message)}catch(e){console.error("获取公告时出错:",e)}}}},d={key:0,class:"announcement-bar"};function _(e,n,l,f,t,h){const a=m("van-notice-bar");return t.announcement?(p(),s("div",d,[r(a,{"left-icon":"volume-o",text:t.announcement},null,8,["text"])])):i("",!0)}const g=o(u,[["render",_],["__scopeId","data-v-21f3c08b"]]);export{g as default};
